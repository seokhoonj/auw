% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/population.R
\name{summarise_population}
\alias{summarise_population}
\title{Summarise population counts by group}
\usage{
summarise_population(
  cohort,
  id_var = "id",
  group_var = c("gender", "age_band")
)
}
\arguments{
\item{cohort}{A \code{data.frame} or \code{data.table} containing cohort data.}

\item{id_var}{Column specifying unique identifiers for individuals.
Supports non-standard evaluation (unquoted names or character strings).}

\item{group_var}{Column(s) used for grouping (e.g., \code{gender}, \code{age_band}).
Supports NSE or character vectors.}
}
\value{
A \code{population} object (data.frame-like) with the following columns:
\itemize{
\item \code{group_var} — grouping columns (e.g., \code{gender}, \code{age_band})
\item \code{n} — unique count of individuals
\item \code{prop} — proportion of total population
}
}
\description{
This function summarises a cohort dataset into a population-level view.
It counts the number of unique individuals within each group (using \code{uniqueN()})
and returns both raw counts (\code{n}) and proportions (\code{prop}).
}
\details{
Aggregates unique individual counts across specified grouping variables,
such as gender or age bands, and computes relative proportions.

Internally, the data is converted to \code{data.table} for efficiency and
restored to the original class upon return. The resulting object gains
an additional class \code{"population"}, allowing use with \code{\link[=plot.population]{plot.population()}}.
}
\examples{
\donttest{
cohort <- data.frame(
  id = sample(1:1000, 1000, TRUE),
  gender = factor(sample(c("M", "F"), 1000, TRUE)),
  age_band = factor(sample(c("20-29", "30-39", "40-49"), 1000, TRUE),
                    ordered = TRUE)
)
pop <- summarise_population(cohort)
head(pop)
}

}
\seealso{
\code{\link[=plot_population]{plot_population()}}
}
