% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/relative-risk.R
\name{summarise_rr}
\alias{summarise_rr}
\alias{summarise_rr.ir}
\alias{summarise_rr.ir.data}
\title{Summarise relative risk from IR objects}
\usage{
summarise_rr(x, ...)

\method{summarise_rr}{ir}(x, decl_vs = c("0", "1"), conf.level = 0.95, ...)

\method{summarise_rr}{ir.data}(x, decl_vs = c("0", "1"), conf.level = 0.95, ...)
}
\arguments{
\item{x}{An \code{ir} or \code{ir.data} object.}

\item{...}{Passed to class-specific methods.}

\item{decl_vs}{Character vector of two declaration levels to compare (default \code{c("0","1")}).}

\item{conf.level}{Confidence level for intervals (default \code{0.95}).}
}
\value{
A data frame (same base class as the input's restored table) with
prepended class \code{"rr"}. Columns include:
\itemize{
\item \verb{tp, fn, fp, tn}: 2×2 cell counts,
\item \verb{inc0, inc1}: incidence in reference vs. exposed groups,
\item \verb{rr, rr_lower, rr_upper}: RR and its CI (Wald),
\item \verb{or, or_lower, or_upper}: OR and its CI (Fisher),
\item \code{p_value}: Fisher exact p-value,
\item \code{decision}: factor \code{"reject"} / \code{"fail"} for \code{H0: OR = 1}.
}

Attributes:
\itemize{
\item \code{attr(x, "decl")}, \code{attr(x, "excl")}, \code{attr(x, "claim")},
\item \code{attr(x, "cmatrix")}: a 2×2×K contingency array with dimnames
\code{c("exp+","exp-")}, \code{c("out+","out-")}, and per-stratum labels.
}
}
\description{
Compute relative risk (RR) and odds ratio (OR) with confidence intervals
from \code{ir} / \code{ir.data} objects by comparing two declaration levels.
}
\details{
Internally, counts are reshaped into 2×2 contingency tables per stratum,
RR CIs are computed by a Wald method, and OR CIs and p-values by Fisher's
exact test. Results are returned per stratum with attributes describing the
declaration/exclusion/claim patterns and the contingency array.
}
\examples{
\dontrun{
# x: an 'ir' object created upstream
out <- summarise_rr(x, decl_vs = c("0","1"), conf.level = 0.95)
head(out)
attr(out, "cmatrix")
}

}
